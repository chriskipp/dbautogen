# recursivefiledb

recursivefiledb generates a database of the filesystem below a given path in a recursive manner

In contrast to the database generated by the file `../filedb/mkfiledb` the file `recursivefsdb.zsh` contains functions to generate and query a database of the file system in a recursive instead of a tabular manner which will only use a fraction of disk space since the only values saved to the data table are the inode, the last part of the path as well as the inode of the parent directory.

You can find more information about the `WITH` clause and recursive structures in sqlite3 on the official [sqlite homepage](https://sqlite.org/lang_with.html).

## Usage

To use this script source the file `recursivefsdb.zsh`:

```
source recursivefsdb.zsh
```

Doing so will provide you with the folloing functions:

- bufferstream
- create_recursivefsdb
- get_inode
- get_filepaths
- get_filesystem_tree

To generate the database set execute the function `create_recursivefsdb`. (By default this will index your `${HOME}` directory).
Once the database is created you can use the functions `get_filepaths` and `get_filesystem_tree` to query the database for a given path (by default the current working directory).

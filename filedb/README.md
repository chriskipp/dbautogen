# filedb

Scripts to generate and search a database of the filesystem under a given path

The database generated by `mkfiledb` is ment to quickly find files similar to the `locate` command of the package mlocate. In contrast to the `locate` command the database contains not only the path of a given file but most of the stats the find command is able to detect (atime, ctime, mtime, user, group ect.). Furthermore it contains the mimetype of every file and directory as well as the md5sums of all files, making it possible to detect duplicate files.

Furthermore a fts5 virtual table is generated wich makes searching for file- and directory names, files owned by a certain user or group even for large databases with millions of files extremly fast.


## Usage

To generate the database use the zsh script `mkfiledb`

```
./mkfiledb
```

Doing so will will either create a new database or update a existing one (which is much faster since the time consuming commands to detect the file type or md5sum are only calculated for new paths or where they might have changed since the last execution of this command).

To query the database you can either use the `sqlite3` command (or any other possibility to connect to an sqlite3 database or use the script `ffile` with a given query:

```
./ffile QUERY...
```
